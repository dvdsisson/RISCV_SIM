`timescale 1ns / 1ps

module controlstore(
    input [31:0] IR,
    output [31:0] CS
    );

wire [31:0] ALU0, ALU1, ALU2, ALU3, ALU4, ALU5, ALU6, ALU7, ALU8, ALU9, ALU10, ALU11, ALU12, ALU13, ALU14, ALU15, ALU16, ALU17, ALU18, ALU19, ALU20, ALU21, ALU22, ALU23, ALU24, ALU25, ALU26, ALU27, ALU28, ALU29, ALU30, ALU31;
wire [31:0] MD0, MD1, MD2, MD3, MD4, MD5, MD6, MD7;
wire [31:0] LS0, LS1, LS2, LS3, LS4, LS5, LS6, LS7, LS8, LS9, LS10, LS11, LS12, LS13, LS14, LS15;
wire [31:0] BR0, BR1, BR2, BR3, BR4, BR5, BR6, BR7;
wire [31:0] AC0, AC1;
wire [31:0] JMP0, JMP1;

wire [4:0] ALUSelect;
wire [2:0] MDSelect;
wire [3:0] LSSelect;
wire [2:0] BRSelect;
wire ACSelect;
wire JMPSelect;

wire [31:0] ALUOutput, MDOutput, LSOutput, BROutput, ACOutput, JMPOutput;

wire notOP0, notOP1, notOP2, notOP3, notOP4, notOP5, notOP6, notfunc0, notfunc1, notfunc2;
wire one, two, three, four, five;
wire [31:0] six, seven, eight, nine;

not(notOP0, IR[0]);
not(notOP1, IR[1]);
not(notOP2, IR[2]);
not(notOP3, IR[3]);
not(notOP4, IR[4]);
not(notOP5, IR[5]);
not(notOP6, IR[6]);
not(notfunc0, IR[12]);
not(notfunc1, IR[13]);
not(notfunc2, IR[14]);

and(one, notOP6, IR[5], IR[4], notOP3, notOP2, IR[1], IR[0], notfunc2, notfunc1, notfunc0, IR[30]);
and(two, notOP6, IR[5], IR[4], notOP3, notOP2, IR[1], IR[0], IR[14], notfunc1, IR[12], IR[30]);
and(three, notOP6, notOP5, IR[4], notOP3, notOP2, IR[1], IR[0], IR[14], notfunc1, IR[12], IR[30]);

or(ALUSelect[4], one, two, three);
assign ALUSelect[3] = IR[5];
assign ALUSelect[2] = IR[14];
assign ALUSelect[1] = IR[13];
assign ALUSelect[0] = IR[12];
assign MDSelect[2] = IR[14];
assign MDSelect[1] = IR[13];
assign MDSelect[0] = IR[12];
assign LSSelect[3] = IR[5];
assign LSSelect[2] = IR[14];
assign LSSelect[1] = IR[13];
assign LSSelect[0] = IR[12];
assign BRSelect[2] = IR[14];    
assign BRSelect[1] = IR[13];
assign BRSelect[0] = IR[12];
assign ACSelect = IR[5];
assign JMPSelect = IR[3];

assign ALU0 = 32'b00000000100010101000000000000010;
assign ALU1 = 32'b00000000100010101001100000000010;
assign ALU2 = 32'b00000000100010101010000000000010;
assign ALU3 = 32'b00000000100010101010010000000010;
assign ALU4 = 32'b00000000100010101011100000000010;
assign ALU5 = 32'b00000000100010101001000000000010;
assign ALU6 = 32'b00000000100010101011000000000010;
assign ALU7 = 32'b00000000100010101011010000000010;
assign ALU8 = 32'b00000000110000100000000000000010;
assign ALU9 = 32'b00000000110000100001100000000010;
assign ALU10 = 32'b00000000110000100010000000000010;
assign ALU11 = 32'b00000000110000100010010000000010;
assign ALU12 = 32'b00000000110000100011100000000010;
assign ALU13 = 32'b00000000110000100001000000000010;
assign ALU14 = 32'b00000000110000100011000000000010;
assign ALU15 = 32'b00000000110000100011010000000010;
assign ALU16 = 32'b00000000000000000000000000000000;
assign ALU17 = 32'b00000000000000000000000000000000;
assign ALU18 = 32'b00000000000000000000000000000000;
assign ALU19 = 32'b00000000000000000000000000000000;
assign ALU20 = 32'b00000000000000000000000000000000;
assign ALU21 = 32'b00000000100010101001010000000010;
assign ALU22 = 32'b00000000000000000000000000000000;
assign ALU23 = 32'b00000000000000000000000000000000;
assign ALU24 = 32'b00000000110000100000010000000010;
assign ALU25 = 32'b00000000000000000000000000000000;
assign ALU26 = 32'b00000000000000000000000000000000;
assign ALU27 = 32'b00000000000000000000000000000000;
assign ALU28 = 32'b00000000000000000000000000000000;
assign ALU29 = 32'b00000000110000100001010000000010;
assign ALU30 = 32'b00000000000000000000000000000000;
assign ALU31 = 32'b00000000000000000000000000000000;

assign MD0 = 32'b00000000110000100100000000000010;
assign MD1 = 32'b00000000110000100100010000000010;
assign MD2 = 32'b00000000110000100100100000000010;
assign MD3 = 32'b00000000110000100100110000000010;
assign MD4 = 32'b00000000110000100101000000000010;
assign MD5 = 32'b00000000110000100101010000000010;
assign MD6 = 32'b00000000110000100101100000000010;
assign MD7 = 32'b00000000110000100101110000000010;

assign LS0 = 32'b00000000100010110000000000100001;
assign LS1 = 32'b00000000100010110000000000100101;
assign LS2 = 32'b00000000100010110000000000101001;
assign LS3 = 32'b00000000000000000000000000000000;
assign LS4 = 32'b00000000100010110000000000101101;
assign LS5 = 32'b00000000100010110000000000110001;
assign LS6 = 32'b00000000000000000000000000000000;
assign LS7 = 32'b00000000000000000000000000000000;
assign LS8 = 32'b00000000110100010111110000110101;
assign LS9 = 32'b00000000110100010111110000111001;
assign LS10 = 32'b00000000110100010111110000111101;
assign LS11 = 32'b00000000000000000000000000000000;
assign LS12 = 32'b00000000000000000000000000000000;
assign LS13 = 32'b00000000000000000000000000000000;
assign LS14 = 32'b00000000000000000000000000000000;
assign LS15 = 32'b00000000000000000000000000000000;

assign BR0 = 32'b00000000110111000000000001000000;
assign BR1 = 32'b00000000110111000000000010000000;
assign BR2 = 32'b00000000000000000000000000000000;
assign BR3 = 32'b00000000000000000000000000000000;
assign BR4 = 32'b00000000110111000000000011000000;
assign BR5 = 32'b00000000110111000000000100000000;
assign BR6 = 32'b00000000110111000000000101000000;
assign BR7 = 32'b00000000110111000000000110000000;

assign AC0 = 32'b00000000001000100000001000000010;
assign AC1 = 32'b00000000001000101111110000000010;

assign JMP0 = 32'b00000000100011110000000111000000;
assign JMP1 = 32'b00000000001011100000000111000000;

mux32_32bit(ALU0, ALU1, ALU2, ALU3, ALU4, ALU5, ALU6, ALU7, ALU8, ALU9, ALU10, ALU11, ALU12, ALU13, ALU14, ALU15, ALU16, ALU17, ALU18, ALU19, ALU20, ALU21, ALU22, ALU23, ALU24, ALU25, ALU26, ALU27, ALU28, ALU29, ALU30, ALU31, ALUSelect, ALUOutput);
mux8_32bit(MD0, MD1, MD2, MD3, MD4, MD5, MD6, MD7, MDSelect, MDOutput);
mux16_32bit(LS0, LS1, LS2, LS3, LS4, LS5, LS6, LS7, LS8, LS9, LS10, LS11, LS12, LS13, LS14, LS15, LSSelect, LSOutput);
mux8_32bit(BR0, BR1, BR2, BR3, BR4, BR5, BR6, BR7, BRSelect, BROutput);
mux2_32bit(AC0, AC1, ACSelect, ACOutput);
mux2_32bit(JMP0, JMP1, JMPSelect, JMPOutput);

and(four, IR[5], IR[25]);
or(five, IR[2], IR[3], IR[4]);
mux2_32bit(LSOutput, BROutput, IR[6], six);
mux2_32bit(ALUOutput, MDOutput, four, seven);
mux2_32bit(six, seven, five, eight);
mux2_32bit(JMPOutput, ACOutput, IR[4], nine);
mux2_32bit(eight, nine, IR[2], CS);

endmodule
